(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{113:function(t,e,s){},132:function(t,e,s){},360:function(t,e,s){"use strict";s.r(e);var n=s(0),r=s.n(n),i=s(31),a=s.n(i),c=(s(113),s(12)),o=s(13),u=s(16),h=s(15),d=s(36),j=s.n(d),p=(s(132),s(133),s(364)),b=s(365),g=s(106),l=s(363),f=s(105);s(92);var O=s(8),v=function(t){Object(u.a)(s,t);var e=Object(h.a)(s);function s(t){var n;return Object(c.a)(this,s),(n=e.call(this,t)).state={domain:"",corpId:"",authCode:"",userId:"",showType:0,userName:"",deptList:[],targetDept:"",userList:[],targetUser:"",dingMsg:""},n}return Object(o.a)(s,[{key:"render",value:function(){var t=this;return this.chooseDept(1),Object(O.jsxs)("div",{className:"App",children:[0===this.state.showType&&Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"\u53d1\u9001ding\u6d88\u606f"}),Object(O.jsx)(p.a.Group,{onChange:function(e){return t.addDept(e)},value:this.state.targetDept,children:Object(O.jsx)(b.b,{direction:"vertical",children:this.state.deptList.map((function(t,e){return Object(O.jsx)(p.a,{value:t.deptId,children:t.name},e)}))})}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(g.a,{type:"primary",onClick:function(){return t.chooseUser()},children:"\u9009\u4e2d\u90e8\u95e8"}),Object(O.jsx)("br",{})]}),1===this.state.showType&&Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"\u53d1\u9001ding\u6d88\u606f"}),Object(O.jsx)(p.a.Group,{onChange:function(e){return t.addUser(e)},value:this.state.targetUser,children:Object(O.jsx)(b.b,{direction:"vertical",children:this.state.userList.map((function(t,e){return Object(O.jsx)(p.a,{value:t.userid,children:t.name},e)}))})}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(g.a,{type:"primary",onClick:function(){return t.showMsgInput()},children:"\u9009\u4e2d\u7528\u6237"}),Object(O.jsx)("br",{})]}),2===this.state.showType&&Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"\u53d1\u9001ding\u6d88\u606f"}),Object(O.jsx)(l.a,{onChange:function(e){return t.inputMsg(e)},placeholder:"ding\u6d88\u606f"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(g.a,{type:"primary",onClick:function(){return t.pushDing()},children:"\u53d1\u9001ding\u6d88\u606f"}),Object(O.jsx)("br",{})]})]})}},{key:"inputMsg",value:function(t){this.setState({dingMsg:t.target.value})}},{key:"addDept",value:function(t){this.setState({targetDept:t.target.value})}},{key:"addUser",value:function(t){this.setState({targetUser:t.target.value})}},{key:"chooseDept",value:function(t){var e=this;j.a.post(this.state.domain+"/biz/getDeptList",JSON.stringify(t),{headers:{"Content-Type":"application/json"}}).then((function(t){t.data.success?e.setState({deptList:t.data.data}):f.b.error(t.data.errorMsg)})).catch((function(t){alert("chooseDept err, "+JSON.stringify(t))}))}},{key:"chooseUser",value:function(){var t=this;j.a.post(this.state.domain+"/biz/getDeptUser",JSON.stringify(this.state.targetDept),{headers:{"Content-Type":"application/json"}}).then((function(e){e.data.success?t.setState({userList:e.data.data,showType:1}):f.b.error(e.data.errorMsg)})).catch((function(t){alert("chooseUser err, "+JSON.stringify(t))}))}},{key:"showMsgInput",value:function(){this.setState({showType:2})}},{key:"pushDing",value:function(){j.a.post(this.state.domain+"/biz/sendDing?userId="+this.state.targetUser+"&message="+this.state.dingMsg).then((function(t){t.data.success?f.b.sccess("\u53d1\u9001\u6210\u529f"):f.b.error(t.data.errorMsg)})).catch((function(t){alert("pushDing err, "+JSON.stringify(t))}))}}]),s}(r.a.Component),x=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,366)).then((function(e){var s=e.getCLS,n=e.getFID,r=e.getFCP,i=e.getLCP,a=e.getTTFB;s(t),n(t),r(t),i(t),a(t)}))};a.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(v,{})}),document.getElementById("root")),x()}},[[360,1,2]]]);
//# sourceMappingURL=main.e780ec63.chunk.js.map